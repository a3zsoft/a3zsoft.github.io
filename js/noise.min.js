!function(t){var r=0,e=0,a=0,o=1,n=new Float32Array(512),h=new Float32Array(512);function f(t){return t*t*t*(t*(6*t-15)+10)}function i(t,r,e){return(1-e)*t+e*r}for(var v=function(t){return t&=511,n[t]>>1},d=function(t,r,e){return h[t&511]+r*(h[t+1&511]-h[t&511])+.5*e*(e*(h[t+1&511]-2*h[t&511]+h[t-1&511])-h[t+1&511]+h[t&511])},s=function(t){var r,e,s,w,M,l,c,F;r=Math.floor(t.x),e=Math.floor(t.y),s=Math.floor(t.z),w=t.x-r,M=t.y-e,l=t.z-s,r&=255,e&=255,s&=255;var A=v(r+v(e+v(s))),b=v(r+v(e+v(s+1))),g=v(r+v(e+1+v(s))),m=v(r+v(e+1+v(s+1))),x=v(r+1+v(e+v(s))),y=v(r+1+v(e+v(s+1))),p=v(r+1+v(e+1+v(s))),u=v(r+1+v(e+1+v(s+1)));c=f(w),F=f(M);var z=f(l),B=i(i(i(A,x,c),i(b,y,c),z),i(i(g,p,c),i(m,u,c),z),F);return(B+1)/2},w=0;w<256;w++){var M=Math.random()*Math.PI*2,l=Math.random()*Math.PI*2,c=Math.sqrt(-2*Math.log(Math.random())),F=c*Math.cos(M)*256,A=c*Math.cos(l)*256;n[w]=F,h[w]=A}t.SimplexNoise=function(){this.noise2D=function(t,h){var f=t+.5*h,i=h-.5*t,v=(f+i)*o,d=(f-i)*o;t=Math.floor(f),h=Math.floor(i);var w=v,M=d,l=(t+h)*a,c=t-l,F=h-l;f=w+c,i=M+F;var A=w-1+c,b=M-1+F;l=(Math.floor(f)+Math.floor(i))*a;var g=f-(Math.floor(f)-l),m=i-(Math.floor(i)-l);w=1-g*g,M=1-m*m;var x=g*m;c=g-1,F=m-1;var y=w*x,p=w*M,u=x*M,z=M*M;return.507*(y*y*s({x:f,y:i,z:e})+p*p*s({x:A,y:i,z:e})+u*u*s({x:f,y:b,z:e})+z*z*s({x:A,y:b,z:e}))},this.noise3D=function(t,h,f){var i=(t+h+f)*.333333333,v=Math.floor(t+i),d=Math.floor(h+i),w=Math.floor(f+i),M=(v+d+w)*r;t=t-(v-M),h=h-(d-M),f=f-(w-M);var l,c,F;l=h>=f?f>=t?0:t>=h?1:2:t>=f?2:f>=h?1:0,c=h>=f?f>=t?1:t>=h?0:2:t>=f?0:f>=h?1:2,F=h>=f?f>=t?2:t>=h?2:1:t>=f?1:f>=h?2:0;var A=t-((l>=3?1:0)-(l>=2?1:0)),b=h-((c>=3?1:0)-(c>=2?1:0)),g=f-((F>=3?1:0)-(F>=2?1:0)),m=(v+A+d+b+w+g)*r,x=t-(v-m),y=h-(d-m),p=f-(w-m),u=.6-x*x-y*y-p*p;if(u<0)return 0;var z=x+y,B=y+p,E=p+x,k=x-y,q=y-p,D=p-x,G=.5-z*z-B*B-E*E;if(G<0)return 0;var H=.5-k*k-q*q-D*D;if(H<0)return 0;var I=s({x:v+x-m,y:d+y-m,z:w+p-m}),J=s({x:v+x-r-m,y:d+y-r-m,z:w+p-r-m}),K=s({x:v+x-r-m,y:d+y-r-m,z:w+p-m}),L=s({x:v+x-m,y:d+y-r-m,z:w+p-m});return 40*(u*u*u*u*I+G*G*G*G*J+H*H*H*H*K)},r=1/6,a=1/3,o=.5}}(this);
